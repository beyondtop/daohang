<!DOCTYPE html>
<html lang="zh-CN" style="height:100%;">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>单向历</title>
</head>
<body style="height:100%;">
  <img id="rili" src="https://img.owspace.com/Public/uploads/Download/2021/0101.jpg" style="height:100%;overflow:hidden;margin:0 auto;display:block;">
</body>
<script>
function setRegular(targetHour){
  var timeInterval,nowTime,nowSeconds,targetSeconds
  nowTime = new Date()
  nowSeconds = nowTime.getHours() * 3600 + nowTime.getMinutes() * 60 + nowTime.getSeconds()
  targetSeconds =  targetHour * 3600
  //  判断是否已超过今日目标小时，若超过，时间间隔设置为距离明天目标小时的距离
  timeInterval = targetSeconds > nowSeconds ? targetSeconds - nowSeconds: targetSeconds + 24 * 3600 - nowSeconds 
  serImgSrc();
  setTimeout(getProductFileList,timeInterval * 1000) //timeInterval * 1000
}
function getProductFileList(){
  serImgSrc();
  setTimeout(getProductFileList,24*3600 * 1000)//之后每天调用一次 24*3600 * 1000
}
function serImgSrc() {
  var nowTime,nowYear,nowMonth,nowDate,imgSrc
  nowTime = new Date()
  nowYear = nowTime.getFullYear()
  nowMonth = nowTime.getMonth()+1
  nowMonth =(nowMonth<10 ? "0"+nowMonth:nowMonth)
  nowDate = nowTime.getDate()
  nowDate =(nowDate<10 ? "0"+nowDate:nowDate)
  imgSrc = "https://img.owspace.com/Public/uploads/Download/"+nowYear+"/"+nowMonth+nowDate+".jpg"
  console.log(imgSrc)
  document.getElementById('rili').src = imgSrc;
}
setRegular(7);//比如目标是每天早上7点
</script>
</html>